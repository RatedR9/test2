name: test

on:
  repository_dispatch:
  release:
  types: published
   push:
     branches:
       - main
  schedule:
    - cron: 57 22 * * *
  watch:
    types: started
    
env:
  email: ${{ secrets.EMAIL }}
  passwd: ${{ secrets.PASSWD }}
  #TG_BOT_TOKEN: ${{ secrets.TG_BOT_TOKEN }}
  #TG_USER_ID: ${{ secrets.TG_USER_ID }}

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout codes
              uses: actions/checkout@v2
              
            - name: Use Python
              uses: actions/setup-python@v2
              with:
                python-version: '3.8'
                
            - name: requirements
              run: python -m pip install --upgrade pip
                   pip install -r requirements.txt
              
            - name: Run Script
              run: pyrhon sign.py
                
